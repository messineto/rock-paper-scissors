<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
      // Initinialize player's and computer's scores
      let playerScore = 0;
      let computerScore = 0;

      // Make the computer randomly choose rock, paper or scissors
      function getComputerChoice() {
        let choice = ["Rock", "Paper", "Scissors"];

        let randomChoice = choice[Math.floor(Math.random() * choice.length)];

        return randomChoice;
      }

      // Ask the player to choose rock, paper or scissors
      function getPlayerChoice() {
        let choice = prompt("Please choose Rock, Paper or Scissors", "");
        return capitalizeFirstLetter(choice);
      }

      // Make function's playerSelection parameter case-insensitive
      function capitalizeFirstLetter(str) {
        // Convert the first letter to uppercase and the rest to lowercase.
        return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
      }

      // Compare player and computer choices
      function playRound(playerSelection, computerSelection) {
        if (playerSelection == computerSelection) {
          return "Tie game!";
        } else if (
          playerSelection == "Rock" &&
          computerSelection == "Scissors"
        ) {
          playerScore += 1;
          return `You win! ${playerSelection} beats ${computerSelection}!`;
        } else if (playerSelection == "Paper" && computerSelection == "Rock") {
          playerScore += 1;
          return `You win! ${playerSelection} beats ${computerSelection}!`;
        } else if (
          playerSelection == "Scissors" &&
          computerSelection == "Paper"
        ) {
          playerScore += 1;
          return `You win! ${playerSelection} beats ${computerSelection}!`;
        } else {
          computerScore += 1;
          return `You lose! ${computerSelection} beats ${playerSelection}!`;
        }
      }

      function game() {
        // play the game until someone reachs the score of 5
        while (playerScore < 5 && computerScore < 5) {
          const playerSelection = getPlayerChoice();
          const computerSelection = getComputerChoice();
          alert(playRound(playerSelection, computerSelection));
          alert(`Player ${playerScore} : ${computerScore} Computer`);
        }

        // Announce the winner
        if (playerScore == 5) {
          alert("You Won!");
        } else {
          alert("Computer Won!");
        }
      }
    </script>
  </body>
</html>
